<nav class="w-full lg:w-fit">
  <h2 class="visually-hidden" style="display: none">Top navigation menu</h2>

  <ul class="
    w-full
    flex flex-row flex-wrap
    gap-6 lg:gap-6
    justify-center lg:justify-end
    pt-8 lg:pt-0

    underline lg:no-underline
    ">

    <li class="text-base font-bold">
      <a href="{{ "/works/" | locale_url }}">
        {{ 'Works' | i18n }}
      </a>
    </li>

    <li class="text-base font-bold">
      <a href="{{ "/en-US/blog/" }}">
        {{ 'Blog' | i18n }}
      </a>
    </li>

    <li class="text-base font-bold">
      <a href="{{ "/search/" | locale_url }}">
        {{ 'Search' | i18n }}
      </a>
    </li>

    <li class="text-base font-bold">
      <a href="{{ "/tags/" | locale_url }}">
        {{ 'Tags' | i18n }}
      </a>
    </li>

    <li class="text-base font-bold hidden md:block">
      <a href="{{ "//louiscklaw.github.io/logseq-helloworld" }}" class="flex gap-2 items-center">
        {{ 'Logseq' | i18n }}<i class="fa-solid fa-arrow-up-right-from-square"></i>
      </a>
    </li>

    <li id="upload-link" class="hidden text-base font-bold">
      <a href="{{ "//share.louislabs.com/upload" }}">
        {{ 'Upload' | i18n }}
      </a>
    </li>

    {#
      <li class="text-base font-bold">
        <a href="#" class="flex gap-2">
          <div>Wiki</div>
          <div>
            <i class="fa-solid fa-up-right-from-square text-xs"></i>
          </div>
        </a>
      </li>
    #}
  </ul>
</nav>

<script>
  window.addEventListener("DOMContentLoaded",()=>{
    fetch('//louislabs.com/upload')
      .then(res => {
        document.querySelector('#upload-link').classList.remove('hidden');
        document.querySelector('#upload-link').classList.add('block');
      })
      .catch(err => {
        console.log({err})
        document.querySelector('#upload-link').classList.add('hidden');

        if (window.location.host != '192.168.10.180:8080') {
          throw new Error('cannot access to upload page');
        }

      })

  })
</script>
